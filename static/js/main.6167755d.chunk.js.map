{"version":3,"sources":["containers/RepoPageContainer/RepoPageContainer.module.css","components/RepoPage/RepoPage.module.css","components/RepoCard/RepoCard.module.css","containers/App/App.module.css","components/Error/Error.jsx","components/RepoCard/RepoCard.jsx","store/reducers/repoReducer.js","components/RepoPage/RepoPage.jsx","containers/RepoPageContainer/RepoPageContainer.jsx","utils/pagesCreator.js","containers/App/App.jsx","store/reducers/index.js","store/store.js","index.js"],"names":["module","exports","Error","history","useHistory","onClick","push","RepoCard","className","styles","container","goBack","button","SET_REPO","SET_IS_FETCHING","SET_CURRENT_PAGE","IS_FETCH_ERROR","initialState","items","isFetching","currentPage","perPage","totalCount","isFetchError","repoReducer","state","action","type","payload","total_count","setRepo","repo","setFetching","bool","setCurrentPage","page","setFetchError","getRepo","searchQuery","dispatch","a","axios","get","res","data","RepoPage","header","header__name","to","display_name","date","updated_at","header__text","short_description","description","RepoPageContainer","useState","inputValue","setInputValue","useDispatch","repos","useSelector","pages","pagesCount","i","pagesCreator","Math","ceil","useEffect","onSearchButtonClick","e","search__container","search__input","value","onChange","target","onKeyDown","key","placeholder","search__button","fetching","map","name","index","current__page","App","path","exact","component","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6167755d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"search__container\":\"RepoPageContainer_search__container__SPF3q\",\"search__input\":\"RepoPageContainer_search__input__3o63a\",\"search__button\":\"RepoPageContainer_search__button__Bfd4O\",\"pages\":\"RepoPageContainer_pages__319cG\",\"current__page\":\"RepoPageContainer_current__page__1ezCT\",\"page\":\"RepoPageContainer_page__1L_2E\",\"fetching\":\"RepoPageContainer_fetching__FQybA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RepoPage_container__1cCQB\",\"header\":\"RepoPage_header__Q5LOc\",\"header__name\":\"RepoPage_header__name__3Uksm\",\"header__text\":\"RepoPage_header__text__3Hd3-\",\"description\":\"RepoPage_description__3U7iY\",\"date\":\"RepoPage_date__2-X7X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RepoCard_container__3X0R_\",\"button\":\"RepoCard_button__W1Bei\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1f4gP\"};","import { useHistory } from 'react-router';\r\nimport styles from './Error.module.css';\r\n\r\nconst Error = () => {\r\n    const history = useHistory();\r\n    return (\r\n        <>\r\n            <button onClick={() => history.push('/')}>Go to Main Page</button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Error;\r\n","import { useHistory } from 'react-router';\r\nimport styles from './RepoCard.module.css';\r\n\r\nconst RepoCard = () => {\r\n    const history = useHistory();\r\n    return (\r\n        <div className={styles.container}>\r\n            <button onClick={() => history.goBack()} className={styles.button}>\r\n                Back\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RepoCard;\r\n","import axios from 'axios';\r\n\r\nconst SET_REPO = 'SET_REPO';\r\nconst SET_IS_FETCHING = 'SET_IS_FETCHING';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst IS_FETCH_ERROR = 'IS_FETCH_ERROR';\r\n\r\nconst initialState = {\r\n    items: [],\r\n    isFetching: false,\r\n    currentPage: 1,\r\n    perPage: 5,\r\n    totalCount: 0,\r\n    isFetchError: false,\r\n};\r\n\r\nconst repoReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_REPO:\r\n            return {\r\n                ...state,\r\n                items: action.payload.items,\r\n                totalCount: action.payload.total_count,\r\n            };\r\n        case SET_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.payload,\r\n            };\r\n        case SET_CURRENT_PAGE:\r\n            return {\r\n                ...state,\r\n                currentPage: action.payload,\r\n            };\r\n        case IS_FETCH_ERROR:\r\n            return {\r\n                ...state,\r\n                isFetchError: action.payload,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport default repoReducer;\r\n\r\nexport const setRepo = (repo) => ({\r\n    type: SET_REPO,\r\n    payload: repo,\r\n});\r\nexport const setFetching = (bool) => ({\r\n    type: SET_IS_FETCHING,\r\n    payload: bool,\r\n});\r\nexport const setCurrentPage = (page) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    payload: page,\r\n});\r\nexport const setFetchError = (bool) => ({\r\n    type: IS_FETCH_ERROR,\r\n    payload: bool,\r\n});\r\n\r\nexport const getRepo =\r\n    (searchQuery = 'is:featured', perPage, currentPage) =>\r\n    async (dispatch) => {\r\n        try {\r\n            if (searchQuery === '') {\r\n                searchQuery = 'is:featured';\r\n            }\r\n            dispatch(setFetching(true));\r\n            const res = await axios.get(\r\n                `https://api.github.com/search/topics?q=${searchQuery}&per_page=${perPage}&page=${currentPage}`\r\n            );\r\n            dispatch(setRepo(res.data));\r\n            dispatch(setFetching(false));\r\n        } catch (error) {\r\n            dispatch(setFetchError(true));\r\n            dispatch(setFetching(false));\r\n        }\r\n    };\r\n","import { NavLink } from 'react-router-dom';\r\nimport styles from './RepoPage.module.css';\r\n\r\nconst RepoPage = ({ repo }) => {\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.header}>\r\n                <div className={styles.header__name}>\r\n                    <NavLink to='/card'>{repo.display_name}</NavLink>\r\n                </div>\r\n                <div className={styles.date}>{repo.updated_at}</div>\r\n            </div>\r\n            <div className={styles.header__text}>{repo.short_description}</div>\r\n            <div className={styles.description}>{repo.description}</div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RepoPage;\r\n","import { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { getRepo, setCurrentPage } from '../../store/reducers/repoReducer';\r\nimport RepoPage from '../../components/RepoPage/RepoPage';\r\nimport styles from './RepoPageContainer.module.css';\r\nimport { pagesCreator } from '../../utils/pagesCreator';\r\nimport { Redirect } from 'react-router';\r\n\r\nconst RepoPageContainer = () => {\r\n    const [inputValue, setInputValue] = useState('');\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const repos = useSelector((state) => state.repo.items);\r\n    const isFetching = useSelector((state) => state.repo.isFetching);\r\n    const isFetchError = useSelector((state) => state.repo.isFetchError);\r\n    const currentPage = useSelector((state) => state.repo.currentPage);\r\n    const perPage = useSelector((state) => state.repo.perPage);\r\n    const totalCount = useSelector((state) => state.repo.totalCount);\r\n\r\n    const pagesCount = Math.ceil(totalCount / perPage);\r\n    const pages = [];\r\n    pagesCreator(pages, pagesCount, currentPage);\r\n\r\n    useEffect(() => {\r\n        dispatch(getRepo(inputValue, perPage, currentPage));\r\n    }, [currentPage]);\r\n\r\n    if (isFetchError) {\r\n        return <Redirect to='/error' />;\r\n    }\r\n\r\n    const onSearchButtonClick = (e) => {\r\n        dispatch(setCurrentPage(1));\r\n        dispatch(getRepo(inputValue, perPage, currentPage));\r\n        setInputValue('');\r\n    };\r\n    const onKeyDownPress = (e) => {\r\n        if (e.key === 'Enter') {\r\n            onSearchButtonClick(e);\r\n        }\r\n    };\r\n    return (\r\n        <div>\r\n            <div className={styles.search__container}>\r\n                <input\r\n                    className={styles.search__input}\r\n                    value={inputValue}\r\n                    onChange={(e) => setInputValue(e.target.value)}\r\n                    onKeyDown={onKeyDownPress}\r\n                    type='text'\r\n                    placeholder='Input label name'\r\n                />\r\n                <button\r\n                    className={styles.search__button}\r\n                    onClick={onSearchButtonClick}\r\n                >\r\n                    Search\r\n                </button>\r\n            </div>\r\n            {isFetching ? (\r\n                <div className={styles.fetching}></div>\r\n            ) : (\r\n                repos.map((repo) => <RepoPage key={repo.name} repo={repo} />)\r\n            )}\r\n            <div className={styles.pages}>\r\n                {pages.map((page, index) => (\r\n                    <span\r\n                        key={index}\r\n                        className={\r\n                            currentPage === page\r\n                                ? styles.current__page\r\n                                : styles.page\r\n                        }\r\n                        onClick={() => dispatch(setCurrentPage(page))}\r\n                    >\r\n                        {page}\r\n                    </span>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default RepoPageContainer;\r\n","export const pagesCreator = (pages, pagesCount, currentPage) => {\r\n    if (pagesCount > 10) {\r\n        if (currentPage > 5) {\r\n            for (let i = currentPage - 4; i <= currentPage + 5; i++) {\r\n                pages.push(i);\r\n                if (i == pagesCount) break;\r\n            }\r\n        } else {\r\n            for (let i = 1; i <= 10; i++) {\r\n                pages.push(i);\r\n                if (i == pagesCount) break;\r\n            }\r\n        }\r\n    } else {\r\n        for (let i = 1; i <= pagesCount; i++) {\r\n            pages.push(i);\r\n        }\r\n    }\r\n};\r\n","import { BrowserRouter, Route, Switch, Redirect } from 'react-router-dom';\nimport Error from '../../components/Error';\nimport RepoCard from '../../components/RepoCard/RepoCard';\nimport RepoPageContainer from '../RepoPageContainer';\n\nimport styles from './App.module.css';\n\nfunction App() {\n    return (\n        <BrowserRouter>\n            <div className={styles.container}>\n                <Switch>\n                    <Route path='/' exact component={RepoPageContainer} />\n                    <Route path='/card' component={RepoCard} />\n                    <Route path='/error' component={Error} />\n                    <Redirect to='/' />\n                </Switch>\n            </div>\n        </BrowserRouter>\n    );\n}\n\nexport default App;\n","import { combineReducers } from 'redux';\r\nimport repoReducer from './repoReducer';\r\n\r\nexport const rootReducer = combineReducers({\r\n    repo: repoReducer,\r\n});\r\n","import { applyMiddleware } from 'redux';\r\nimport { createStore } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { rootReducer } from './reducers';\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './containers/App';\nimport { Provider } from 'react-redux';\nimport { store } from './store/store';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}